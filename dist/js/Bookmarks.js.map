{"version":3,"sources":["../../js/Bookmarks.js"],"names":["Bookmarks","props","state","loadData","nextProps","params","data","isProcessed","isViewed","orderby","sorting","count","console","log","myGlobals","bookmarksCollection","getAll","then","response","range","headers","bookmarks","body","setState","loaded","bookmarkElements","map","bookmark","isExport","id","updateList","bind","React","Component"],"mappings":";;;;;;;;;;IAAMA,S;;;AAEJ,qBAAYC,KAAZ,EAAmB;AAAA;;AAAA,sHACXA,KADW;;AAEjB,UAAKC,KAAL,GAAa,EAAb;AAFiB;AAGlB;;;;wCAEmB;;AAElB,WAAKC,QAAL,CAAc,KAAKF,KAAnB;AACD;;;8CAEyBG,S,EAAW;;AAEnC,WAAKD,QAAL,CAAcC,SAAd;AACD;;;6BAEQH,K,EAAO;AAAA;;AAEd,UAAMI,SAASJ,MAAMK,IAArB;AACAD,aAAOE,WAAP,GAAqB,IAArB;AACAF,aAAOG,QAAP,GAAkB,KAAlB;AACAH,aAAOI,OAAP,GAAiBR,MAAMS,OAAvB;AACAL,aAAOM,KAAP,GAAe,GAAf,CANc,CAMM;AACpBC,cAAQC,GAAR,CAAY,UAAZ,EAAwBR,MAAxB;;AAEAS,gBAAUC,mBAAV,CAA8BC,MAA9B,CAAqCX,MAArC,EACCY,IADD,CACM,UAACC,QAAD,EAAc;AAClB,YAAMC,QAAQD,SAASE,OAAT,GAAmB,eAAnB,CAAd;AACA,YAAMC,YAAYH,SAASI,IAAT,EAAlB;AACA,eAAKC,QAAL,CAAc,EAACJ,OAAOA,KAAR,EAAeE,WAAWA,SAA1B,EAAqCG,QAAQ,IAA7C,EAAd;AACD,OALD;AAMD;;;iCAEY;;AAEX,WAAKrB,QAAL,CAAc,KAAKF,KAAnB;AACD;;;6BAEQ;AAAA;;AAEP,UAAI,CAAC,KAAKC,KAAL,CAAWsB,MAAhB,EAAwB;;AAEtB,eAAQ;AAAA;AAAA;AAAA;AAAA,SAAR;AACD;;AAED;AACA,UAAIC,mBAAmB,KAAKvB,KAAL,CAAWmB,SAAX,CAAqBK,GAArB,CAAyB,UAACC,QAAD,EAAc;AAC5D,eAAO,OAAK1B,KAAL,CAAW2B,QAAX,GACL,oBAAC,cAAD,IAAgB,KAAKD,SAASrB,IAAT,GAAgBuB,EAArC,EAAyC,MAAMF,QAA/C,GADK,GAEL,oBAAC,QAAD,IAAU,KAAKA,SAASrB,IAAT,GAAgBuB,EAA/B,EAAmC,MAAMF,QAAzC,EAAmD,YAAY,OAAKG,UAAL,CAAgBC,IAAhB,QAA/D,GAFF;AAGD,OAJsB,CAAvB;;AAMA,aACE;AAAA;AAAA,UAAK,WAAU,WAAf;AACE;AAAA;AAAA,YAAK,WAAU,OAAf;AAAA;AACc,eAAK7B,KAAL,CAAWiB;AADzB,SADF;AAIGM;AAJH,OADF;AAQD;;;;EA7DqBO,MAAMC,S;;AA8D7B","file":"Bookmarks.js","sourcesContent":["class Bookmarks extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentDidMount() {\n\n    this.loadData(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n\n    this.loadData(nextProps);\n  }\n\n  loadData(props) {\n\n    const params = props.data;\n    params.isProcessed = true;\n    params.isViewed = false;\n    params.orderby = props.sorting;\n    params.count = 500; // TODO: make configurable\n    console.log('params: ', params);\n\n    myGlobals.bookmarksCollection.getAll(params)\n    .then((response) => {\n      const range = response.headers()['content-range'];\n      const bookmarks = response.body();\n      this.setState({range: range, bookmarks: bookmarks, loaded: true});\n    });\n  }\n\n  updateList() {\n\n    this.loadData(this.props);\n  }\n\n  render() {\n\n    if (!this.state.loaded) {\n\n      return (<span>Loading...</span>);\n    }\n\n    //let sortedBookmarks = this.state.bookmarks.sort((a, b) => a.data().calculatedPriority - b.data().calculatedPriority);\n    let bookmarkElements = this.state.bookmarks.map((bookmark) => {\n      return this.props.isExport ?\n        <ExportBookmark key={bookmark.data().id} data={bookmark} /> :\n        <Bookmark key={bookmark.data().id} data={bookmark} updateList={this.updateList.bind(this)} />;\n    });\n\n    return (\n      <div className='bookmarks'>\n        <div className=\"stats\">\n          Displaying {this.state.range}\n        </div>\n        {bookmarkElements}\n      </div>\n    );\n  }\n};\n"]}
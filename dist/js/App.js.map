{"version":3,"sources":["../../js/App.js"],"names":["App","props","state","filters","getEffectiveFilters","sorting","effectiveFilters","minPriority","userFilters","localStorage","JSON","parse","Object","assign","daysToDisplay","duration","moment","maxCreatedAt","diff","minCreatedAt","asDays","console","log","today","startOf","toDate","getTime","subtract","change","newFilters","setState","stringify","setFilter","bind","setSorting","React","Component"],"mappings":";;;;;;;;;;AAAA;IACMA,G;;;AAEJ,eAAYC,KAAZ,EAAmB;AAAA;;AAAA,0GAEXA,KAFW;;AAIjB,UAAKC,KAAL,GAAa;AACXC,eAAS,MAAKC,mBAAL,EADE;AAEXC,eAAS;AAFE,KAAb;AAJiB;AAQlB;;;;0CAEqB;;AAEpB,UAAMC,mBAAmB;AACvBC,qBAAa,EADU,CACP;AADO,OAAzB;;AAIA,UAAMC,cAAcC,aAAaN,OAAb,GAAuBO,KAAKC,KAAL,CAAWF,aAAaN,OAAxB,CAAvB,GAA0D,IAA9E;;AAEAS,aAAOC,MAAP,CAAcP,gBAAd,EAAgCE,WAAhC;;AAEA,UAAIM,sBAAJ;AACA,UAAIN,WAAJ,EAAiB;AACf,YAAMO,WAAWC,OAAOD,QAAP,CAAgBC,OAAOR,YAAYS,YAAnB,EAAiCC,IAAjC,CAAsCF,OAAOR,YAAYW,YAAnB,CAAtC,CAAhB,CAAjB;AACAL,wBAAgBC,SAASK,MAAT,KAAoB,CAApC;AACD,OAHD,MAGO;AACLN,wBAAgB,CAAhB;AACD;;AAEDO,cAAQC,GAAR,CAAY,sBAAsBR,aAAlC;AACA,UAAMS,QAAQP,SAASQ,OAAT,CAAiB,KAAjB,CAAd;AACAlB,uBAAiBW,YAAjB,GAAgCM,MAAME,MAAN,GAAeC,OAAf,EAAhC,CApBoB,CAoBsC;AAC1DpB,uBAAiBa,YAAjB,GAAgCI,MAAMI,QAAN,CAAeb,gBAAgB,CAA/B,EAAkC,MAAlC,EAA0CW,MAA1C,GAAmDC,OAAnD,EAAhC,CArBoB,CAqB0E;;AAE9F,aAAOpB,gBAAP;AACD;;;8BAESsB,M,EAAQ;;AAEhB,UAAMC,aAAajB,OAAOC,MAAP,CAAc,EAAd,EAAkB,KAAKX,KAAL,CAAWC,OAA7B,EAAsCyB,MAAtC,CAAnB;AACA,WAAKE,QAAL,CAAc,EAAE3B,SAAS0B,UAAX,EAAd;AACApB,mBAAaN,OAAb,GAAuBO,KAAKqB,SAAL,CAAeF,UAAf,CAAvB;AACD;;;+BAEUD,M,EAAQ;;AAEjB,WAAKE,QAAL,CAAc,EAAEzB,SAASuB,MAAX,EAAd;AACAnB,mBAAaJ,OAAb,GAAuBuB,MAAvB;AACD;;;6BAEQ;AACP,aACE;AAAA;AAAA,UAAK,WAAU,WAAf;AACE,4BAAC,OAAD,IAAS,SAAS,KAAK1B,KAAL,CAAWC,OAA7B;AACS,mBAAS,KAAKD,KAAL,CAAWG,OAD7B;AAES,qBAAW,KAAK2B,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAFpB;AAGS,sBAAY,KAAKC,UAAL,CAAgBD,IAAhB,CAAqB,IAArB,CAHrB,GADF;AAKE,4BAAC,SAAD,IAAW,MAAM,KAAK/B,KAAL,CAAWC,OAA5B,EAAqC,SAAS,KAAKD,KAAL,CAAWG,OAAzD;AALF,OADF;AASD;;;;EA7De8B,MAAMC,S","file":"App.js","sourcesContent":["// EventableComponent provides event handling methods such as @listenTo and @stopListening\nclass App extends React.Component {\n\n  constructor(props) {\n\n    super(props);\n\n    this.state = {\n      filters: this.getEffectiveFilters(),\n      sorting: \"contentLengthInCharacters\"\n    };\n  }\n\n  getEffectiveFilters() {\n\n    const effectiveFilters = {\n      minPriority: 15 // normal\n    };\n\n    const userFilters = localStorage.filters ? JSON.parse(localStorage.filters) : null;\n\n    Object.assign(effectiveFilters, userFilters);\n\n    let daysToDisplay;\n    if (userFilters) {\n      const duration = moment.duration(moment(userFilters.maxCreatedAt).diff(moment(userFilters.minCreatedAt)));\n      daysToDisplay = duration.asDays() + 1;\n    } else {\n      daysToDisplay = 2;\n    }\n\n    console.log('daysToDisplay is ' + daysToDisplay);\n    const today = moment().startOf(\"day\");\n    effectiveFilters.maxCreatedAt = today.toDate().getTime(); // today\n    effectiveFilters.minCreatedAt = today.subtract(daysToDisplay - 1, 'days').toDate().getTime(); // x days ago\n\n    return effectiveFilters;\n  }\n\n  setFilter(change) {\n\n    const newFilters = Object.assign({}, this.state.filters, change);\n    this.setState({ filters: newFilters });\n    localStorage.filters = JSON.stringify(newFilters);\n  }\n\n  setSorting(change) {\n\n    this.setState({ sorting: change });\n    localStorage.sorting = change;\n  }\n\n  render() {\n    return (\n      <div className='container'>\n        <Options filters={this.state.filters}\n                 sorting={this.state.sorting}\n                 setFilter={this.setFilter.bind(this)}\n                 setSorting={this.setSorting.bind(this)} />\n        <Bookmarks data={this.state.filters} sorting={this.state.sorting} />\n      </div>\n    );\n  }\n}\n"]}